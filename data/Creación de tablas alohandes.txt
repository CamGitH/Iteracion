CREATE TABLE Hotel (
id NUMBER NOT NULL,
registroCamaraComercio NUMBER NOT NULL,
categoria NUMBER NOT NULL,
PRIMARY KEY (id)
);



 CREATE TABLE Hostal (
id NUMBER NOT NULL,
registroCamaraComercio NUMBER NOT NULL,
apertura NUMBER NOT NULL,
cierre NUMBER NOT NULL,
PRIMARY KEY (id),
CHECK(apertura<=24 AND apertura >=0),
CHECK(cierre<=24 AND apertura >=0)
);


CREATE TABLE PersonaNatural (
contrato VARCHAR2(32) NOT NULL,
numeroIdentificacion NUMBER NOT NULL,
nombre VARCHAR2(32) NOT NULL,
PRIMARY KEY (numeroIdentificacion)
);


CREATE TABLE MiembroComunidad (
vinculo VARCHAR2(32) NOT NULL,
nombre VARCHAR2(32) NOT NULL,
numeroIdentificacion NUMBER NOT NULL,
PRIMARY KEY (numeroIdentificacion)
);


CREATE TABLE Vecino (
nombre VARCHAR2(32) NOT NULL,
direccion VARCHAR2(32) NOT NULL,
PRIMARY KEY (nombre,direccion)
);

CREATE TABLE EMPRESAVIVIENDAUNIVERSITARIA 
(
  ID VARCHAR2(20 BYTE) NOT NULL 
, NOMBRE VARCHAR2(200 BYTE) NOT NULL 
, REGISTROCAMARACOMERCIO NUMBER DEFAULT 0 NOT NULL 
, TIENESALAESTUDIO NUMBER DEFAULT 0 NOT NULL CHECK (TIENESALAESTUDIO in (0,1))
, TIENESALAESPARCIMIENTO NUMBER DEFAULT 0 NOT NULL CHECK (TIENESALAESPARCIMIENTO in (0,1))
, TIENEGIMNASIO NUMBER DEFAULT 0 NOT NULL CHECK  (TIENEGIMNASIO in (0,1))
, TIENERESTAURANTE NUMBER DEFAULT 0 NOT NULL CHECK (TIENERESTAURANTE in (0,1))
, CONSTRAINT EMPRESAVIVIENDAUNIVERSITAR_PK PRIMARY KEY (ID))
;



CREATE TABLE HabitacionVivienda (
numero NUMBER NOT NULL,
esquema VARCHAR2(500) NOT NULL,
costoServicios VARCHAR2(80) NOT NULL,
habitacionIndividual NUMBER DEFAULT 0 NOT NULL CHECK (habitacionIndividual in (0,1)),
banioPrivado NUMBER DEFAULT 0 NOT NULL CHECK (banioPrivado in (0,1)),
accesoCocina NUMBER DEFAULT 0 NOT NULL CHECK (accesoCocina in (0,1)),
comidas  NUMBER DEFAULT 0 NOT NULL CHECK (comidas in (0,1)),

CONSTRAINT habitacionVivienda_PK PRIMARY KEY (numero))
;

CREATE TABLE HABITACIONVUNI
(
numero NUMBER NOT NULL,
individual NUMBER DEFAULT 0 NOT NULL CHECK (individual in (0,1)),
duracion VARCHAR(32) NOT NULL,
menaje NUMBER DEFAULT 0 NOT NULL CHECK (menaje in (0,1)),
PRIMARY KEY (numero)
)
;

CREATE TABLE habitacion (

precio VARCHAR2(150) NOT NULL,
capacidad NUMBER NOT NULL,
ubicacion VARCHAR2(50) NOT NULL,
tamanio NUMBER NOT NULL,
numero NUMBER NOT NULL,

PRIMARY KEY (numero))

;

CREATE TABLE apartamento (
numero NUMBER NOT NULL,
contrato VARCHAR(32) NOT NULL,
precionumero VARCHAR(200) NOT NULL,
esAmoblado NUMBER DEFAULT 0 NOT NULL CHECK (esAmoblado in (0,1)),
PRIMARY KEY (numero))
;

CREATE TABLE vivienda (
direccion varchar2(40) NOT NULL,
costo NUMBER NOT NULL,
seguro VARCHAR2(500) NOT NULL,
numerohabitaciones NUMBER NOT NULL,
menaje NUMBER DEFAULT 0 NOT NULL CHECK (menaje in (0,1)),
CONSTRAINT vivienda_PK PRIMARY KEY (direccion, seguro)
)
;


--PRUEBA


--


CREATE TABLE CLIENTE(
DIRECCION VARCHAR2(32) NOT NULL,
TIPOID VARCHAR2(32) NOT NULL,
ID VARCHAR2(32) NOT NULL,
RELACIONUNIANDES VARCHAR2(32) NOT NULL,
CONSTRAINT CLIENTE_PK PRIMARY KEY (ID)
)
;

CREATE TABLE OPERADOR(
ID NUMBER NOT NULL,
TIPO VARCHAR2(60) NOT NULL,
NOMBRE VARCHAR2(50) NOT NULL,
CONSTRAINT operador_PK PRIMARY KEY (ID)
)
;

CREATE TABLE serviciosHotel (

id NUMBER NOT NULL,
restaurante NUMBER DEFAULT 0 NOT NULL CHECK (restaurante in (0,1)),
piscina NUMBER DEFAULT 0 NOT NULL CHECK (piscina in (0,1)),
parqueadero NUMBER DEFAULT 0 NOT NULL CHECK (parqueadero in (0,1)),
wifi NUMBER DEFAULT 0 NOT NULL CHECK (wifi in (0,1)),
tv NUMBER DEFAULT 0 NOT NULL CHECK (tv in (0,1)),
h24 NUMBER DEFAULT 0 NOT NULL CHECK (h24 in (0,1)),

CONSTRAINT serviciosHotel_PK PRIMARY KEY (id),
FOREIGN KEY (id) REFERENCES Hotel(id)
)
;

CREATE TABLE serviciosHabitacion 
(
id NUMBER NOT NULL,
baniera  NUMBER DEFAULT 0 NOT NULL CHECK (baniera in (0,1)),
yacuzzi   NUMBER DEFAULT 0 NOT NULL CHECK (yacuzzi in (0,1)),
sala      NUMBER DEFAULT 0 NOT NULL CHECK (sala in (0,1)),
cocineta   NUMBER DEFAULT 0 NOT NULL CHECK (cocineta in (0,1)),
PRIMARY KEY (id),
FOREIGN KEY (id) REFERENCES Hotel (id)
)
;

CREATE TABLE OFERTA (
numOferta NUMBER NOT NULL,
idOperador NUMBER NOT NULL,
idLugar NUMBER NOT NULL,
tipoLugar VARCHAR2(80) NOT NULL,
CONSTRAINT oferta_PK PRIMARY KEY ( numOferta),
FOREIGN KEY (idOperador) REFERENCES OPERADOR(id)
)
;

CREATE TABLE RESERVAS
(
    
IDCLIENTE VARCHAR2(32) NOT NULL,
OFERTAID NUMBER NOT NULL,
CONSTRAINT RESERVA_PK PRIMARY KEY (IDCLIENTE,OFERTAID),
FOREIGN KEY (IDCLIENTE) REFERENCES CLIENTE(ID),
FOREIGN KEY (OFERTAID) REFERENCES OFERTA(NUMOFERTA)
  )
  ;